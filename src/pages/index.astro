---
import Layout from "@layouts/Layout.astro";
import { Image } from "astro:assets";
import Hero from "@components/Hero.astro";
import SiteHeader from "@components/SiteHeader.astro";
import HomeSection from "@components/HomeSection.astro";
import Button from "@components/Button.astro";
import HomeContentBox from "@components/HomeContentBox.astro";
import giornoArgent from "@assets/argent/giornoArgent.png";
import TextDeco from "@components/TextDeco.astro";
import coffeeShopChill from "@assets/argent/CoffeShopChill_Deriaz.jpg";
import SiteMap from "@components/SiteMap.astro";
import HomePageBlogPosts from "@components/HomePageBlogPosts.astro";
---

<Layout homePage={true}>
  <SiteHeader homePage={true} />
  <div class="text-center py-2">
    <span id="monsterTxt" class="headerTxt Qt text-white text-4xl md:text-6xl italic tracking-wide">
      The Crisis of Capitalism unearths a MONSTER
      <span class="text-nowrap">. . . </span><span class="headerTxt Qt text-white text-4xl tracking-wide italic">uwu</span>
    </span>
  </div>
  <Hero />

  <HomeSection darkBg={true} border={[]}>
    <HomeContentBox columns={["col-start-1 col-span-12 lg:col-span-8 z-10"]}>
      <div class="mb-2 text-wrap">
        <h2 class="headerTxt xs:text-7xl sm:text-6xl text-5xl xl:text-8xl font-bold text-white underline decoration-redLight text-wrap text-center mb-5">
          Recent Blog Posts
        </h2>
      </div>
      <HomePageBlogPosts />
      <div class="sm:ml-16 mt-5">
        <Button url="/blog">All Blog Posts →︎</Button>
      </div>
    </HomeContentBox>
    <div class="lg:flex w-full pr-5 col-span-4 aspect-square self-center place-items-center hidden">
      <Image class="rounded-lg" src={coffeeShopChill} alt="Grommit Argent" />
    </div>
  </HomeSection>
  <HomeSection darkBg={false}>
    <HomeContentBox columns={["md:col-start-2", "md:col-span-10", "col-start-1", "col-span-12"]}>
      <div>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-2">
          <h2 class="headerTxt font-prospekt xs:text-7xl text-5xl xl:text-8xl mb-10 underline decoration-redLight text-center md:text-left flex lg:col-span-2">
            About Regal
          </h2>
          <div class="text-2xl font-light flex flex-col gap-3 justify-around">
            <p>
              I'm a Chicago-based frontend software dev who spends most of his free time not doing software dev. I love my city and interacting with it and my
              neighbors via hobbies and <span class="line-through">radical</span> progressive politics.
            </p>
            <p>
              I'm into a lot of things, including <TextDeco url="/about/coffee">Fancy Coffee</TextDeco>, <TextDeco url="/about/weightlifting"
                >Weightlifting & Bodybuilding</TextDeco
              >,
              <TextDeco url="/about/urbanism">Urbanism & Biking</TextDeco>, <TextDeco url="/about/digitalart">Drawing</TextDeco>, Building <TextDeco
                url="/about/mechanicalkeyboards">Mechanical Keyboards</TextDeco
              >, and <TextDeco url="/about/communism">Marxist Theory</TextDeco>.
            </p>
            <p>
              More than anything, I like talking to folks and making new friends. So feel free to say hi on one of the <TextDeco url="/links"
                >various socials</TextDeco
              >!
            </p>
            <br />
            <div class="mb-4">
              <Button url="/about"> More about Regal →︎ </Button>
            </div>
          </div>
          <div class="m-auto max-w-none lg:max-w-[500px]">
            <Image src={giornoArgent} alt="Giorno Argent" class="rounded-lg" />
          </div>
        </div>
      </div>
    </HomeContentBox>
  </HomeSection>
  <HomeSection darkBg={true} border={[]}>
    <HomeContentBox columns={["lg:col-start-3 lg:col-span-8 sm:col-start-2 sm:col-span-10 col-start-1 col-span-12"]}>
      <h2 class="headerTxt font-prospekt xs:text-7xl text-5xl xl:text-8xl mb-10 underline decoration-redLight text-center lg:col-span-2">Site Map</h2>
      <SiteMap />
    </HomeContentBox>
  </HomeSection>

  <style>
    h2,
    h3 {
      font-family: "Prospekt Regular", sans-serif;
    }
    .Qt {
      font-family: "MarsAttack", script;
    }
  </style>
</Layout>

<script>
  function activateSnakeMode() {
    const snakeBtn = document.getElementById("snakeMode");
    snakeBtn?.addEventListener("click", () => {
      window.scrollTo(0, 0);
      const page = document.getElementById("main");
      if (page) {
        page.style.fontFamily = "Snake Chan";
      }
      const headerEls = Array.from(document.getElementsByClassName("headerTxt") as HTMLCollectionOf<HTMLElement>);
      headerEls.forEach((header) => (header.style.fontFamily = "Snake Chan"));
    });
  }
  activateSnakeMode();

  document.addEventListener("astro:after-swap", activateSnakeMode);
</script>
